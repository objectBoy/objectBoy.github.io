
<!DOCTYPE html>
<html lang="zh-Hans" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Android动画 - 清青的驿站</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="清青,"> 
    <meta name="description" content="浅显难羁宝剑锋，玉藏石中也玲珑,#Animation##介绍Animation是一个实现android UI界面动画效果的API，它提供了一系列的动画效果：旋转、缩放、淡入淡出等。
##分类

Tweened Animations,"> 
    <meta name="author" content="清青"> 
    <link rel="alternative" href="atom.xml" title="清青的驿站" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <link rel="stylesheet" href="/css/diaspora.css">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({
              google_ad_client: "ca-pub-8691406134231910",
              enable_page_level_ads: true
         });
    </script>
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
</head>

<body class="loading">
    <span id="config-title" style="display:none">清青的驿站</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="icon-home image-icon" href="javascript:;" data-url="http://yoursite.com"></a>
    <div title="播放/暂停" class="icon-play"></div>
    <h3 class="subtitle">Android动画</h3>
    <div class="social">
        <!--<div class="like-icon">-->
            <!--<a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
        <!--</div>-->
        <div>
            <div class="share">
                <a title="获取二维码" class="icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class='main'>
        <h1 class="title">Android动画</h1>
        <div class="stuff">
            <span>四月 08, 2016</span>
            
  <ul class="post-tags-list"><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/Android/">Android</a></li></ul>


        </div>
        <div class="content markdown">
            <h2 id="Animation"><a href="#Animation" class="headerlink" title="#Animation"></a>#<strong>Animation</strong></h2><p>##<strong>介绍</strong><br>Animation是一个实现android UI界面动画效果的API，它提供了一系列的动画效果：旋转、缩放、淡入淡出等。</p>
<p>##<strong>分类</strong></p>
<ul>
<li>Tweened Animations：<ul>
<li>Alpha：淡入淡出</li>
<li>Scale：缩放效果</li>
<li>Rotate：旋转</li>
<li>Translate：平移</li>
</ul>
</li>
<li>Frame-by-Frame Animations<br>类似于gif动画，可以创建一个Drawable序列，按照固定的间隔时间，循环显示drawable序列中的图片。</li>
</ul>
<p>##<strong>示例</strong></p>
<p>###Tweened Animations</p>
<ol>
<li>创建一个AnimationSet对象</li>
<li>创建相应地Animation对象<ol>
<li>AlphaAnimation：淡入淡出</li>
<li>TranslateAnimation：平移</li>
<li>ScaleAnimation：缩放</li>
<li>RotateAnimation：旋转</li>
</ol>
</li>
<li>为新建的Animation设置属性</li>
<li>将Animation添加到AnimationSet对象中</li>
<li>使用控制对象执行AnimationSet</li>
</ol>
<p>###AlphaAnimation<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建一个AnimationSet对象，参数为Boolean型，</span></span><br><span class="line"><span class="comment">//true表示使用Animation的interpolator，false则是使用自己的</span></span><br><span class="line">AnimationSet animationSet = <span class="keyword">new</span> AnimationSet(<span class="keyword">true</span>);</span><br><span class="line"><span class="comment">//创建一个AlphaAnimation对象，参数从完全的透明度，到完全的不透明</span></span><br><span class="line">AlphaAnimation alphaAnimation = <span class="keyword">new</span> AlphaAnimation(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line"><span class="comment">//设置动画执行的时间</span></span><br><span class="line">alphaAnimation.setDuration(<span class="number">500</span>);</span><br><span class="line"><span class="comment">//将alphaAnimation对象添加到AnimationSet当中</span></span><br><span class="line">animationSet.addAnimation(alphaAnimation);</span><br><span class="line"><span class="comment">//使用ImageView的startAnimation方法执行动画</span></span><br><span class="line">image.startAnimation(animationSet);</span><br></pre></td></tr></table></figure></p>
<p>###TranslateAnimation<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> AnimationSet animationSet = <span class="keyword">new</span> AnimationSet(<span class="keyword">true</span>);</span><br><span class="line"><span class="comment">//参数1～2：x轴的开始位置</span></span><br><span class="line"><span class="comment">//参数3～4：y轴的开始位置</span></span><br><span class="line"><span class="comment">//参数5～6：x轴的结束位置</span></span><br><span class="line"><span class="comment">//参数7～8：x轴的结束位置</span></span><br><span class="line">TranslateAnimation translateAnimation =<span class="keyword">new</span> TranslateAnimation(Animation.RELATIVE_TO_SELF,<span class="number">0f</span>,Animation.RELATIVE_TO_SELF,<span class="number">0.5f</span>,Animation.RELATIVE_TO_SELF,<span class="number">0f</span>,Animation.RELATIVE_TO_SELF,<span class="number">0.5f</span>);</span><br><span class="line">translateAnimation.setDuration(<span class="number">1000</span>);</span><br><span class="line">animationSet.addAnimation(translateAnimation);</span><br><span class="line">image.startAnimation(animationSet);</span><br></pre></td></tr></table></figure></p>
<p>###ScaleAnimation<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">AnimationSet animationSet = <span class="keyword">new</span> AnimationSet(<span class="keyword">true</span>);</span><br><span class="line"><span class="comment">//参数1：x轴的初始值</span></span><br><span class="line"><span class="comment">//参数2：x轴收缩后的值</span></span><br><span class="line"><span class="comment">//参数3：y轴的初始值</span></span><br><span class="line"><span class="comment">//参数4：y轴收缩后的值</span></span><br><span class="line"><span class="comment">//参数5：确定x轴坐标的类型</span></span><br><span class="line"><span class="comment">//参数6：x轴的值，0.5f表明是以自身这个控件的一半长度为x轴</span></span><br><span class="line"><span class="comment">//参数7：确定y轴坐标的类型</span></span><br><span class="line"><span class="comment">//参数8：y轴的值，0.5f表明是以自身这个控件的一半长度为x轴</span></span><br><span class="line">ScaleAnimation scaleAnimation = <span class="keyword">new</span> ScaleAnimation(<span class="number">0</span>, <span class="number">0.1f</span>,<span class="number">0</span>,<span class="number">0.1f</span>,Animation.RELATIVE_TO_SELF,<span class="number">0.5f</span>,Animation.RELATIVE_TO_SELF,<span class="number">0.5f</span>);</span><br><span class="line">scaleAnimation.setDuration(<span class="number">1000</span>);</span><br><span class="line">animationSet.addAnimation(scaleAnimation);</span><br><span class="line">image.startAnimation(animationSet);</span><br></pre></td></tr></table></figure></p>
<p>###RotateAnimation<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">AnimationSet animationSet = <span class="keyword">new</span> AnimationSet(<span class="keyword">true</span>);</span><br><span class="line"><span class="comment">//参数1：从哪个旋转角度开始</span></span><br><span class="line"><span class="comment">//参数2：转到什么角度</span></span><br><span class="line"><span class="comment">//后4个参数用于设置围绕着旋转的圆的圆心在哪里</span></span><br><span class="line"><span class="comment">//参数3：确定x轴坐标的类型，有ABSOLUT绝对坐标、RELATIVE_TO_SELF相对于自身坐标、RELATIVE_TO_PARENT相对于父控件的坐标</span></span><br><span class="line"><span class="comment">//参数4：x轴的值，0.5f表明是以自身这个控件的一半长度为x轴</span></span><br><span class="line"><span class="comment">//参数5：确定y轴坐标的类型</span></span><br><span class="line"><span class="comment">//参数6：y轴的值，0.5f表明是以自身这个控件的一半长度为x轴</span></span><br><span class="line">RotateAnimation rotateAnimation = <span class="keyword">new</span> RotateAnimation(<span class="number">0</span>, <span class="number">360</span>,Animation.RELATIVE_TO_SELF,<span class="number">0.5f</span>,Animation.RELATIVE_TO_SELF,<span class="number">0.5f</span>);</span><br><span class="line">rotateAnimation.setDuration(<span class="number">1000</span>);</span><br><span class="line">animationSet.addAnimation(rotateAnimation);</span><br><span class="line">image.startAnimation(animationSet);</span><br></pre></td></tr></table></figure></p>
<p>###补充<br>在代码中实现Animations不麻烦，但当我们需要很多地方用相同的效果时，就显得麻烦了，且代码的可维护性不高。—-&gt;使用XML配置属性</p>
<ol>
<li>在res下新建anim文件夹</li>
<li>创建相应的xml文件<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- alpha --&gt;</span></span><br><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">set</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    <span class="attr">android:interpolator</span>=<span class="string">"@android:anim/accelerate_interpolator"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- fromAlpha和toAlpha是起始透明度和结束时透明度 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">alpha</span></span><br><span class="line">        <span class="attr">android:fromAlpha</span>=<span class="string">"1.0"</span></span><br><span class="line">        <span class="attr">android:toAlpha</span>=<span class="string">"0.0"</span></span><br><span class="line">        <span class="attr">android:startOffset</span>=<span class="string">"500"</span></span><br><span class="line">        <span class="attr">android:duration</span>=<span class="string">"500"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--rotate--&gt;</span></span><br><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">set</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    <span class="attr">android:interpolator</span>=<span class="string">"@android:anim/accelerate_interpolator"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span><br><span class="line">        fromDegrees:开始的角度</span><br><span class="line">        toDegrees：结束的角度，+表示是正的</span><br><span class="line">        pivotX：用于设置旋转时的x轴坐标</span><br><span class="line">        例</span><br><span class="line">           1)当值为"50"，表示使用绝对位置定位</span><br><span class="line">           2)当值为"50%"，表示使用相对于控件本身定位</span><br><span class="line">           3)当值为"50%p"，表示使用相对于控件的父控件定位</span><br><span class="line">        pivotY：用于设置旋转时的y轴坐标</span><br><span class="line">      --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rotate</span></span><br><span class="line">        <span class="attr">android:fromDegrees</span>=<span class="string">"0"</span></span><br><span class="line">        <span class="attr">android:toDegrees</span>=<span class="string">"+360"</span></span><br><span class="line">        <span class="attr">android:pivotX</span>=<span class="string">"50%"</span></span><br><span class="line">        <span class="attr">android:pivotY</span>=<span class="string">"50%"</span></span><br><span class="line">        <span class="attr">android:duration</span>=<span class="string">"1000"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--scale--&gt;</span></span><br><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">set</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    <span class="attr">android:interpolator</span>=<span class="string">"@android:anim/accelerate_interpolator"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--</span><br><span class="line">       起始x轴坐标</span><br><span class="line">           止x轴坐标</span><br><span class="line">           始y轴坐标</span><br><span class="line">           止y轴坐标</span><br><span class="line">           轴的坐标</span><br><span class="line">           轴的坐标</span><br><span class="line">     --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">scale</span></span><br><span class="line">       <span class="attr">android:fromXScale</span>=<span class="string">"1.0"</span></span><br><span class="line">       <span class="attr">android:toXScale</span>=<span class="string">"0.0"</span></span><br><span class="line">       <span class="attr">android:fromYScale</span>=<span class="string">"1.0"</span></span><br><span class="line">       <span class="attr">android:toYScale</span>=<span class="string">"0.0"</span></span><br><span class="line">       <span class="attr">android:pivotX</span>=<span class="string">"50%"</span></span><br><span class="line">       <span class="attr">android:pivotY</span>=<span class="string">"50%"</span></span><br><span class="line">       <span class="attr">android:duration</span>=<span class="string">"1000"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--translate--&gt;</span></span><br><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">set</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    <span class="attr">android:interpolator</span>=<span class="string">"@android:anim/accelerate_interpolator"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span><br><span class="line">           始x轴坐标</span><br><span class="line">           止x轴坐标</span><br><span class="line">           始y轴坐标</span><br><span class="line">           止y轴坐标</span><br><span class="line">      --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">translate</span></span><br><span class="line">        <span class="attr">android:fromXDelta</span>=<span class="string">"0%"</span></span><br><span class="line">        <span class="attr">android:toXDelta</span>=<span class="string">"100%"</span></span><br><span class="line">        <span class="attr">android:fromYDelta</span>=<span class="string">"0%"</span></span><br><span class="line">        <span class="attr">android:toYDelta</span>=<span class="string">"100%"</span></span><br><span class="line">        <span class="attr">android:duration</span>=<span class="string">"2000"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>3.使用时，通过AnimationUtils加载xml文件，并生成Animation对象。因为Animation是AnimationSet的父类，向上转型，用Animation对象接收。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Animation animation = AnimationUtils.loadAnimation(Animation1Activity.<span class="keyword">this</span>, R.anim.alpha);</span><br><span class="line"><span class="comment">// 启动动画</span></span><br><span class="line">image.startAnimation(animation);</span><br></pre></td></tr></table></figure></p>
<p>##Tween Animation</p>
<p>###常见属性</p>
<ol>
<li>setDuration(long durationMills)：设置动画持续时间–&gt;毫秒</li>
<li>setFillAfter(Boolean fillAfter)：设置动画执行后是否停止在结束时的状态</li>
<li>setFillBefore(Boolean fillBefore)：设置动画停止后是否返回动画开始时的状态</li>
<li>setStartOffSet(long startOffSet)：设置动画执行之前的等待时间</li>
<li>setRepeatCount(int repeatCount)：设置动画执行次数<br>##AnimationSet<br>AnimationSet是Animation的子类，一个AnimationSet包含了一系列的Animation。针对AnimationSet设置的一些Animation的常见属性，例如startOffset和duration等，可以被包含在AnimationSet中的Animation集成。<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">AnimationSet animationSet = <span class="keyword">new</span> AnimationSet(<span class="keyword">true</span>);</span><br><span class="line">AlphaAnimation alphaAnimation = <span class="keyword">new</span> AlphaAnimation(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">RotateAnimation rotateAnimation = <span class="keyword">new</span> RotateAnimation(<span class="number">0</span>, <span class="number">360</span>,Animation.RELATIVE_TO_SELF,<span class="number">0.5f</span>,Animation.RELATIVE_TO_SELF,<span class="number">0.5f</span>);</span><br><span class="line">rotateAnimation.setDuration(<span class="number">1000</span>);</span><br><span class="line">animationSet.addAnimation(rotateAnimation);</span><br><span class="line">animationSet.addAnimation(alphaAnimation);</span><br><span class="line">image.startAnimation(animationSet);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>##Interpolator<br>定义了动画变化的速率，在Animations框架中，系统定义了几种常见的Interpolator</p>
<ol>
<li>AccelerateDecelerateInterpolator：动画开始和结束时速度较慢，中间时速率较快</li>
<li>AccelerateInterpolator：动画开始时较慢，逐渐加速</li>
<li><p>CycleInterpolator：动画循环播放特定的次数，速率改变沿着正弦曲线</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">cycleInterpolator</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span> <span class="attr">android:cycles</span>=<span class="string">"7"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>DecelerateInterpolator：动画开始时较快，逐渐减速</p>
</li>
<li>LinearInterpolator：动画以均匀地速率改变</li>
</ol>
<p>###情况示例<br> <strong>1.如何设置</strong><br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">set</span> <span class="attr">xmls:anroid</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line"><span class="attr">android:interpolator</span>=<span class="string">"@android:anim/accelerate_interpolator"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><strong>2.一个set标签中包含多个动画，并且希望这些动画共享一个Interpolator</strong><br>set标签中增加android:shareInterpolator=”true”<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">set</span> <span class="attr">xmls:anroid</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line"> <span class="attr">android:interpolator</span>=<span class="string">"@android:anim/accelerate_interpolator"</span></span><br><span class="line"> <span class="attr">android:shareInterpolator</span>=<span class="string">"true"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>或者<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">AnimationSet animationSet = <span class="keyword">new</span> AnimationSet(<span class="keyword">true</span>);<span class="comment">//true</span></span><br><span class="line">animationSet.setInterpolator(<span class="keyword">new</span> AccelerateInterpolator());</span><br></pre></td></tr></table></figure></p>
<p><strong>3.多个动画，且不共享一个Interpolator</strong><br>set标签中增加android:shareInterpolator=”false”并且在每一个动画标签下加入android:interpolator<br>或者<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">AnimationSet animationSet = <span class="keyword">new</span> AnimationSet(<span class="keyword">false</span>);<span class="comment">//false</span></span><br><span class="line">alphaAnimation.setInterpolator(<span class="keyword">new</span> AccelerateInterpolator());</span><br></pre></td></tr></table></figure></p>
<p>##Frame-By-Frame<br><strong>1.定义图片集</strong><br>anim.xml<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">animation-list</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    <span class="attr">android:oneshot</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/a_01"</span> <span class="attr">android:duration</span>=<span class="string">"50"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/a_02"</span> <span class="attr">android:duration</span>=<span class="string">"50"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/a_03"</span> <span class="attr">android:duration</span>=<span class="string">"50"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/a_04"</span> <span class="attr">android:duration</span>=<span class="string">"50"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/a_05"</span> <span class="attr">android:duration</span>=<span class="string">"50"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/a_06"</span> <span class="attr">android:duration</span>=<span class="string">"50"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">animation-list</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><strong>2.调用</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">imageView.setBackgroundResource(R.anim.anim);</span><br><span class="line">AnimationDrawable animationDrawable = (AnimationDrawable)imageView.getBackground();</span><br><span class="line">animationDrawable.start();</span><br></pre></td></tr></table></figure></p>
<p>##LayoutAnimationsController<br>用来实现多个控件按顺序一个个显示，可以为一个layout里面的控件或者是ViewGroup里面的控件设置统一的动画效果。</p>
<p>###示例<br>创建一个listview加载动画</p>
<ul>
<li>xml方式<br>1.设置动画效果list_anim.xml<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">set</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    <span class="attr">android:interpolator</span>=<span class="string">"@android:anim/accelerate_interpolator"</span></span><br><span class="line">    <span class="attr">android:shareInterpolator</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">alpha</span></span><br><span class="line">       <span class="attr">android:fromAlpha</span>=<span class="string">"0.0"</span></span><br><span class="line">       <span class="attr">android:toAlpha</span>=<span class="string">"1.0"</span></span><br><span class="line">       <span class="attr">android:duration</span>=<span class="string">"1000"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>2.设置LayoutAnimation<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;layoutAnimation</span><br><span class="line"> xmlns:android="http://schemas.android.com/apk/res/android"</span><br><span class="line">    &lt;!-- 动画间隔时间 --&gt;</span><br><span class="line">    android:delay="0.5" </span><br><span class="line">    &lt;!-- 动画执行顺序 normal random(随机) reverse(反向)--&gt;</span><br><span class="line">    android:animationOrder="normal"</span><br><span class="line">    android:animation="@anim/list_anim"/&gt;</span><br></pre></td></tr></table></figure></p>
<p>3.在布局文件中加入layoutAnimation<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ListView</span></span><br><span class="line">       <span class="attr">android:id</span>=<span class="string">"@id/android:list"</span></span><br><span class="line">       <span class="attr">android:layout_width</span>=<span class="string">"fill_parent"</span></span><br><span class="line">       <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span><br><span class="line">       <span class="attr">android:scrollbars</span>=<span class="string">"vertical"</span></span><br><span class="line">	   <span class="attr">android:layoutAnimation</span>=<span class="string">"@anim/list_anim_layout"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>代码方式</li>
</ul>
<ol>
<li>创建动画xml</li>
<li>创建一个Animation对象，装载动画xml文件</li>
<li><p>创建LayoutAnimationController</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LayoutAnimationController controller = <span class="keyword">new</span> LayoutAnimationController(animation);</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置显示顺序及延迟时间</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">controller.setOrder(LayoutAnimationController.ORDER_NORMAL); </span><br><span class="line">controller.setDelay(<span class="number">0.5f</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>为listView设置LayoutAnimationController属性</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">listView.setLayoutAnimation(controller);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>##AnimationListener<br>故名思议，是一个动画监听器，该监听器在动画执行的各个阶段会得到通知，回调相应的方法</p>
<ul>
<li>onAnimationEnd</li>
<li>onAnimationRepeat：当动画重复时调用</li>
<li>onAnimationStart</li>
</ul>
<p>###步骤<br>1.创建一个listener类，集成AnimationListener<br>2.创建动画animation<br>3.为动画绑定监听器animation.setAnimationListener(AnimationListener al);<br>4.开始动画</p>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="true">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        <li title='0' data-url='http://link.hhtjim.com/163/5146554.mp3'></li>
                    
                        <li title='1' data-url='http://link.hhtjim.com/qq/001faIUs4M2zna.mp3'></li>
                    
                </ul>
            
        </div>
        
    <div id='gitalk-container' class="comment link"
        data-ae='false'
        data-ci='c3ca9952e91907755616'
        data-cs='19c670c29e49822a7953235407f57daa216eb579'
        data-r='QuickPhone'
        data-o='ObjectBoy'
        data-a='ObjectBoy'
        data-d='false'
    >查看评论</div>


    </div>
    
</div>


    </div>
</div>
</body>
<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/diaspora.js"></script>
<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">
<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>




</html>
